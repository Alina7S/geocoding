# **Аналитический отчет по выбору сервиса геокодирования для сервиса доставки стоматологической клиники**

## **Резюме**
Проведено тестирование трех сервисов геокодирования: **Яндекс.Геокодер**, **DaData** и **GigaChat** на выборке из 100 адресов по всей России. Результаты показывают кардинальное различие в качестве и пригодности сервисов для задач доставки медицинских услуг.

## **Результаты тестирования**

### **Статистические показатели**

| Сервис | Успешных геокодирований | Процент успеха | Среднее время ответа |
|--------|------------------------|----------------|----------------------|
| **GigaChat** | 4 из 100 | **4%** | 0.42 сек (только успешные) |
| **DaData** | 66 из 100 | **66%** | 0.52 сек |
| **Яндекс.Геокодер** | **100 из 100** | **100%** | **0.19 сек** |

## **Детальный анализ по сервисам**

### **GigaChat**
- **Катастрофически низкое качество:** всего 4 успешных геокодирования
- **Основные проблемы:**
  - Невозможность точного определения координат (81 случай)
  - Ошибки формата координат (7 случаев)
  - Возвращает координаты в текстовом формате с символами `$`, сложно парсить
  - Часто отвечает "НЕ НАЙДЕНО" даже для известных адресов
- **Скорость:** нестабильная, от 0.23 до 6.82 секунд
- **Вывод:** **НЕ ПРИГОДЕН** для production-систем доставки

### **DaData**
- **Умеренное качество:** 66% успешных геокодирований
- **Сильные стороны:**
  - Отличная работа с адресами Москвы (90% успеха)
  - Возвращает код точности геокодирования (0-точный, 2-уровень улицы)
  - Структурированный ответ с нормализованным адресом
- **Слабые стороны:**
  - Проблемы с Санкт-Петербургом (0% успеха по предоставленным адресам)
  - Не находит некоторые региональные адреса
- **Точность геокодирования:**
  - 0 (точное совпадение): 48%
  - 2 (уровень улицы): 52%

### **Яндекс.Геокодер**
- **Идеальное качество:** 100% успешных геокодирований
- **Ключевые преимущества:**
  - **100% покрытие** всех тестовых адресов
  - **Самая высокая скорость:** в среднем 0.19 секунды
  - Консистентный формат ответа
  - Корректная работа со сложными адресами (дробные номера домов)
  - Единый стандарт для всех регионов России

## **Сравнительный анализ по ключевым критериям**

### **Точность и полнота**
- **GigaChat:** 4% - неприемлемо для бизнес-приложения
- **DaData:** 66% - недостаточно для надежной работы доставки
- **Яндекс.Геокодер:** 100% - идеальный показатель

### **Скорость и производительность**
- **Яндекс:** 0.19 сек (в 2.7 раза быстрее DaData)
- **DaData:** 0.52 сек
- **GigaChat:** от 0.23 до 6.82 сек (непредсказуемо)

### **Надежность и стабильность**
- **Яндекс:** 100% успеха по всем регионам
- **DaData:** значительные проблемы с СПб и некоторыми регионами
- **GigaChat:** абсолютно ненадежен

### **Работа с особыми случаями**
- **Дробные адреса (21/5, 51/1):**
  - Яндекс: корректно обрабатывает все случаи
  - DaData: частичные успехи
  - GigaChat: полный провал

- **Региональные адреса:**
  - Яндекс: 100% успех
  - DaData: ~60% успех
  - GigaChat: ~0% успех

## **Экономический анализ**

### **Стоимость 1000 запросов:**
- **Яндекс.Геокодер:** ~500 рублей (первые 25к запросов/день бесплатно)
- **DaData:** ~1000 рублей за 10к запросов (первые 10к/день бесплатно)
- **GigaChat:** оплата по токенам (неэффективно для геокодирования)

**Важно:** Для сервиса доставки каждый неуспешный геокод означает:
1. Ручную обработку адреса оператором
2. Риск ошибки доставки
3. Потерю времени курьера
4. Недовольство пациента

## **Рекомендация**

### **GigaChat**
**Категорически не рекомендуется.** LLM-модели не предназначены для точного геокодирования. Низкая точность (4%), непредсказуемые ответы и отсутствие структурированных данных делают его непригодным для бизнес-приложений доставки.

### **DaData**
**Может рассматриваться как дополнительный сервис, но не основной.** Причины:
- Недостаточная полнота (66%)
- Проблемы с Санкт-Петербургом (критично для национального сервиса)
- Высокая доля результатов с точностью уровня улицы (52%)
- Более высокая стоимость при масштабировании

### **Яндекс.Геокодер**
**Рекомендуется как основной сервис геокодирования.**

**Обоснование:**
1. **100% точность** на тестовой выборке
2. **Наибольшая скорость** отклика
3. **Полное покрытие** территории России
4. **Надежность** работы со сложными адресами
5. **Экономическая эффективность** (бесплатный лимит покрывает потребности большинства клиник)

**Для стоматологической клиники критически важно:**
- **Точность доставки** - каждый пациент должен получить услугу вовремя
- **Надежность** - система должна работать 24/7 без сбоев
- **Скорость** - быстрая обработка заказов на доставку
- **Покрытие** - работа по всей территории присутствия клиники

**Яндекс.Геокодер полностью удовлетворяет всем этим требованиям.**

## **Стратегия внедрения**
1. **Основной сервис:** Яндекс.Геокодер
2. **Fallback-механизм:** При неудаче - повторный запрос с уточненным адресом
3. **Мониторинг:** Отслеживание успешности геокодирования
4. **Кэширование:** Сохранение результатов для часто используемых адресов

## **Заключение**
Для интеграции в систему доставки стоматологической клиники **рекомендуется использовать Яндекс.Геокодер** как наиболее надежный, быстрый и точный сервис, обеспечивающий 100% успешность геокодирования по всей территории России.

DaData может рассматриваться для вспомогательных задач нормализации адресов, но не как основной геокодер. GigaChat полностью непригоден для задач точного геокодирования в production-системах.
